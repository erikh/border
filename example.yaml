# if you load this file wholesale, here are a few commands to try:
# dig -p 5300 -t soa test.home.arpa. @localhost
# dig -p 5300 -t ns test.home.arpa. @localhost
# dig -p 5300 -t a test.home.arpa. @localhost
# dig -p 5300 -t a foo.test.home.arpa. @localhost
listen:
  control: :5309
  dns: :5300
# generate this key with `border keygenerate` and paste it in. This is an
# encryption and signing key. Do not use the default!
auth_key:
  alg: A256KW
  k: VbqOkBfoftuqk7_qzQse70AUScQJJGiR4JUfv-jHGIA
  kid: control
  kty: oct
# you must define at least one peer, this host will do fine for now.
# peers are transformed into load balancer and "glue" records from the
# configuration.
peers:
  foo:
    key:
      alg: A256KW
      k: VbqOkBfoftuqk7_qzQse70AUScQJJGiR4JUfv-jHGIA
      kid: control
      kty: oct
    ip: 127.0.0.1
# DNS zones. Note, the records coordinate to all services border provides.
zones:
  test.home.arpa:
    soa:
      domain: test.home.arpa
      admin: administrator.test.home.arpa
      minttl: 60
      serial: 1
      refresh: 60
      retry: 1
      expire: 120
    ns:
      servers:
        - test.home.arpa
    records:
      - type: A
        name: test.home.arpa
        value:
          addresses:
            - 127.0.0.1
      - type: LB
        name: balancer.test.home.arpa
        value:
          listeners:
            - foo:8000
          backends:
            - 127.0.0.1:8001
            - 127.0.0.1:8002
          kind: tcp
